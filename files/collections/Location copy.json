{"collection":{"info":{"_postman_id":"36a05c47-ca3a-46bc-96da-c45496a3fb24","name":"Location copy","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"/country/hello","event":[{"listen":"test","script":{"id":"b22a4e68-15ab-4952-8ddb-1fb95cf6da1c","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"JSON Object Value Check\", function () {","    var jsonData = pm.response.json();","    pm.expect(jsonData.retCode).to.eql(\"200\");","});","","pm.test(\"Response time is less than 200ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(200);","});"],"type":"text/javascript"}}],"_postman_id":"2625323b-7aee-4bfd-891a-ff9239b7c931","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{protocol}}://{{locathost}}/v1/hello","protocol":"{{protocol}}","host":["{{locathost}}"],"path":["v1","hello"]}},"response":[]},{"name":"/v1/countries","event":[{"listen":"test","script":{"id":"c7db50d3-c80d-4612-9ab5-5d5ce204afae","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"JSON Object Value Check\", function () {","    var jsonData = pm.response.json();","    pm.expect(jsonData.retCode).to.eql(\"200\");","});","","pm.test(\"Response time is less than 200ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(200);","});","","var schema = {","    \"required\": [\"retCode\", \"retMsg\", \"data\"],","    \"type\": \"object\",","    \"properties\": {","        \"retCode\": { \"type\": \"string\" },","        \"retMsg\": { \"type\": \"string\" },","        \"data.localeCode\": {\"type\": \"string\"},","        \"data.countryList\": { ","            \"type\": \"array\",","            \"items\": {","                \"type\": \"object\",","                \"required\": [\"geonameId\", \"continentCode\", \"continentName\", \"countryCode\", \"countryName\"], ","                \"properties\": {","                    \"geonameId\": {\"type\": \"number\"},","                    \"continentCode\": {\"type\": \"string\"},","                    \"continentName\": {\"type\": \"string\"},","                    \"countryCode\": {\"type\": \"string\"},","                    \"countryName\": {\"type\": \"string\"}","                }","            }","        }","    }","};","","pm.test('Schema is valid', function() {","    var jsonData = pm.response.json();","    pm.expect(tv4.validate(jsonData, schema)).to.be.true;","});","console.log(tv4.error);","","","var countryCode = pm.request.url.path[pm.request.url.path.length - 1];","pm.test('CountryCode Test - ' + countryCode, function() {","    var jsonData = pm.response.json();","    pm.expect(tv4.validate(jsonData.data.countryCode, countryCode)).to.be.true;","});","",""],"type":"text/javascript"}}],"_postman_id":"b32a2b44-d4b0-4f7f-8af5-943bf222ff7f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","type":"text","value":"","disabled":true},{"key":"Accept-Language","value":"","type":"text","disabled":true}],"url":{"raw":"{{protocol}}://{{locathost}}/v1/countries","protocol":"{{protocol}}","host":["{{locathost}}"],"path":["v1","countries"]}},"response":[]},{"name":"/v1/countries/{countryCode}","event":[{"listen":"test","script":{"id":"21f2c8a0-2469-4290-8f9b-8654d1b7109b","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"JSON Object Value Check\", function () {","    var jsonData = pm.response.json();","    pm.expect(jsonData.retCode).to.eql(\"200\");","});","","pm.test(\"Response time is less than 200ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(200);","});","","var schema = {","    \"required\": [\"retCode\", \"retMsg\", \"data\"],","    \"type\": \"object\",","    \"properties\": {","        \"retCode\": { \"type\": \"string\" },","        \"retMsg\": { \"type\": \"string\" },","        \"data\": { ","            \"type\": \"object\",","            \"required\": [\"geonameId\", \"continentCode\", \"continentName\", \"countryCode\", \"countryName\"], ","            \"properties\": {","                \"geonameId\": {\"type\": \"number\"},","                \"continentCode\": {\"type\": \"string\"},","                \"continentName\": {\"type\": \"string\"},","                \"countryCode\": {\"type\": \"string\"},","                \"countryName\": {\"type\": \"string\"}","            }","        }","    }","};","","pm.test('Schema is valid', function() {","    var jsonData = pm.response.json();","    pm.expect(tv4.validate(jsonData, schema)).to.be.true;","});","","var countryCode = pm.variables.get('countryCode');","pm.test('CountryCode Test - ' + countryCode, function() {","    var jsonData = pm.response.json();","    pm.expect(tv4.validate(jsonData.data.countryCode, countryCode )).to.be.true;","});","",""],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"34358fa1-9ce8-4ff6-b7d5-d09904ae00f0","exec":[""],"type":"text/javascript"}}],"_postman_id":"c0a60cbf-6a28-452e-b937-3388623919a8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","type":"text","value":"application/json;charset=UTF-8"},{"key":"Accept-Language","type":"text","value":"{{locale}}"}],"url":{"raw":"{{protocol}}://{{locathost}}/v1/countries/{{countryCode}}","protocol":"{{protocol}}","host":["{{locathost}}"],"path":["v1","countries","{{countryCode}}"]}},"response":[]},{"name":"/v1/cities","event":[{"listen":"test","script":{"id":"66864605-1b1b-4252-b378-bb50b2c084cd","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"JSON Object Value Check\", function () {","    var jsonData = pm.response.json();","    pm.expect(jsonData.retCode).to.eql(\"200\");","});","","pm.test(\"Response time is less than 200ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(200);","});"],"type":"text/javascript"}}],"_postman_id":"6373cc10-b51e-4ea8-a3d8-e3380d96703b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","type":"text","value":"application/json;charset=UTF-8"},{"key":"Accept-Language","value":"{{locale}}","type":"text"}],"url":{"raw":"{{protocol}}://{{locathost}}/v1/cities?countryCode={{countryCode}}","protocol":"{{protocol}}","host":["{{locathost}}"],"path":["v1","cities"],"query":[{"key":"countryCode","value":"{{countryCode}}"},{"key":"localeCode","value":"zh-CN","disabled":true}]}},"response":[]},{"name":"/v1/currency","event":[{"listen":"test","script":{"id":"1adb93dd-d6cf-49b1-b9e7-e221083dcaea","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"JSON Object Value Check\", function () {","    var jsonData = pm.response.json();","    pm.expect(jsonData.retCode).to.eql(\"200\");","});","","pm.test(\"Response time is less than 200ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(200);","});"],"type":"text/javascript"}}],"_postman_id":"0083660b-5ca8-45c6-9e8b-f35687d7ae27","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","type":"text","value":"application/json;charset=UTF-8"},{"key":"Accept-Language","value":"zh-TW","type":"text"}],"url":{"raw":"{{protocol}}://{{locathost}}/v1/currencies/{{countryCode}}","protocol":"{{protocol}}","host":["{{locathost}}"],"path":["v1","currencies","{{countryCode}}"]}},"response":[]},{"name":"/v1/currencies","event":[{"listen":"test","script":{"id":"313fb360-7360-4e18-a83f-49324e3465cf","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"JSON Object Value Check\", function () {","    var jsonData = pm.response.json();","    pm.expect(jsonData.retCode).to.eql(\"200\");","});","","pm.test(\"Response time is less than 200ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(200);","});","",""],"type":"text/javascript"}}],"_postman_id":"3befd9db-31b1-42e9-89f2-ce1e553ef148","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","type":"text","value":"application/json;charset=UTF-8"},{"key":"Accept-Language","value":"zh-CN","type":"text"}],"url":{"raw":"{{protocol}}://{{locathost}}/v1/currencies","protocol":"{{protocol}}","host":["{{locathost}}"],"path":["v1","currencies"]}},"response":[]}],"event":[{"listen":"prerequest","script":{"id":"d5b2444e-fb83-4d6b-a2b0-4ec5c2ec8164","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"065c22d4-70b6-43c0-940b-d01af7934bc1","type":"text/javascript","exec":[""]}}]}}